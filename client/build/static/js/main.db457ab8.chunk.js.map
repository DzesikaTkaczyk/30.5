{"version":3,"sources":["config.js","redux/postsRedux.js","components/layout/PageContainer/PageContainer.js","components/common/Logo/Logo.js","components/layout/MainMenu/MainMenu.js","components/features/NavBar/NavBar.js","components/layout/MainLayout/MainLayout.js","App.js","redux/store.js","index.js"],"names":["API_URL","BASE_URL","getPosts","posts","data","getPostsLength","length","getRequest","request","getSinglePost","singlePost","getPages","Math","ceil","amount","postsPerPage","getPresentPage","presentPage","createActionName","name","LOAD_POSTS","LOAD_SINGLE_POST","START_REQUEST","END_REQUEST","ERROR_REQUEST","RESET_REQUEST","LOAD_POSTS_PAGE","startRequest","type","endRequest","errorRequest","error","resetRequest","loadPostsByPage","payload","initialState","pending","success","reducer","statePart","action","loadPostsRequest","dispatch","a","axios","get","res","message","loadSinglePostRequest","id","addPostRequest","post","loadPostsByPageRequest","page","startAt","limit","PageContainer","children","className","Logo","links","location","MainMenu","map","link","index","key","pathname","path","to","title","withRouter","props","NavBar","state","this","React","Component","MainLayout","Home","lazy","Posts","Contact","NotFound","SinglePost","NewPost","App","fallback","exact","component","rootReducer","combineReducers","postCounter","store","createStore","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db457ab8.chunk.js","sourcesContent":["export const API_URL = 'http://localhost:8000/api';\r\nexport const BASE_URL = 'http://localhost:3000';","import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\n/* SELECTORS */\r\nexport const getPosts = ({ posts }) => posts.data;\r\nexport const getPostsLength = ({ posts }) => posts.data.length;\r\nexport const getRequest = ({ posts }) => posts.request;\r\nexport const getSinglePost = ({ posts }) => posts.singlePost;\r\nexport const getPages = ({ posts }) => Math.ceil(posts.amount / posts.postsPerPage);\r\nexport const getPresentPage = ({ posts }) => posts.presentPage;\r\n\r\n// action name creator\r\nconst reducerName = 'posts';\r\nconst createActionName = name => `app/${reducerName}/${name}`;\r\n\r\n/* ACTIONS */\r\nexport const LOAD_POSTS = createActionName('LOAD_POSTS');\r\nexport const LOAD_SINGLE_POST = createActionName('LOAD_SINGLE_POST');\r\nexport const START_REQUEST = createActionName('START_REQUEST');\r\nexport const END_REQUEST = createActionName('END_REQUEST');\r\nexport const ERROR_REQUEST = createActionName('ERROR_REQUEST');\r\nexport const RESET_REQUEST = createActionName('RESET_REQUEST')\r\nexport const LOAD_POSTS_PAGE = createActionName('LOAD_POSTS_PAGE');\r\n\r\nexport const loadPosts = payload => ({ payload, type: LOAD_POSTS });//pobiera dane z serwera i zapusje do magazynu aplikacji\r\nexport const loadSinglePost = payload => ({ payload, type: LOAD_SINGLE_POST });\r\nexport const startRequest = () => ({ type: START_REQUEST });\r\nexport const endRequest = () => ({ type: END_REQUEST });\r\nexport const errorRequest = error => ({ error, type: ERROR_REQUEST });\r\nexport const resetRequest = () => ({ type: RESET_REQUEST })\r\nexport const loadPostsByPage = payload => ({ payload, type: LOAD_POSTS_PAGE });\r\n/* INITIAL STATE */\r\nconst initialState = {\r\n  data: [],\r\n  request: {\r\n    pending: false,\r\n    error: null,\r\n    success: null\r\n  },\r\n  singlePost: {},\r\n  amount: 0,\r\n  postsPerPage: 10, \r\n  presentPage: 1\r\n};\r\n\r\n\r\n\r\n/* REDUCER */\r\nexport default function reducer(statePart = initialState, action = {}) {\r\n  switch (action.type) {\r\n  \tcase LOAD_POSTS:\r\n      return { ...statePart, data: action.payload };\r\n    case LOAD_SINGLE_POST:\r\n      return { ...statePart, singlePost: action.payload }\r\n    case START_REQUEST:\r\n      return { ...statePart, request: { pending: true, error: null, success: null } };\r\n    case ERROR_REQUEST:\r\n      return { ...statePart, request: { pending: false, error: action.error, success: false } };\r\n    case RESET_REQUEST:\r\n     return { ...statePart, request: {pending: false, error: null, success: null }}\r\n    case END_REQUEST:\r\n      return { ...statePart, request: { pending: false, error: null, success: true } };\r\n    case LOAD_POSTS_PAGE:\r\n      return {\r\n        ...statePart,\r\n        postsPerPage: action.payload.postsPerPage,\r\n        presentPage: action.payload.presentPage,\r\n        amount: action.payload.amount,\r\n        data: [...action.payload.posts],\r\n      };\r\n    default:\r\n      return statePart;\r\n  }\r\n};\r\n\r\n/* THUNKS */\r\n\r\nexport const loadPostsRequest = () => {\r\n  return async dispatch => {\r\n    dispatch(startRequest());\r\n\r\n    try {\r\n      let res = await axios.get(`${API_URL}/posts`);\r\n      \r\n      dispatch(loadPosts(res.data));\r\n      dispatch(endRequest());\r\n    } catch(e) {\r\n    \tdispatch(errorRequest(e.message));\r\n    }\r\n  };\r\n};\r\n\r\nexport const loadSinglePostRequest = (id) => {\r\n  return async dispatch => {\r\n    dispatch(startRequest());\r\n\r\n    try {\r\n      let res = await axios.get(`${API_URL}/posts/${id}`);\r\n      dispatch(loadSinglePost(res.data));\r\n      dispatch(endRequest());\r\n    } catch(e) {\r\n      dispatch(errorRequest(e.message));\r\n    }\r\n  };\r\n};\r\n\r\nexport const addPostRequest = (post) => {\r\n  return async dispatch => {\r\n    dispatch(startRequest());\r\n    \r\n    try {\r\n      let res = await axios.post(`${API_URL}/posts`, post);\r\n      dispatch(endRequest());\r\n\r\n    } catch(e) {\r\n      dispatch(errorRequest(e.message));\r\n    }\r\n\r\n  };\r\n};\r\n\r\nexport const loadPostsByPageRequest = (page, postsPerPage) => {\r\n  return async dispatch => {\r\n    dispatch(startRequest());\r\n    \r\n    try {\r\n      const startAt = (page - 1) * postsPerPage;\r\n      const limit = postsPerPage;\r\n      let res = await axios.get(`${API_URL}/posts/range/${startAt}/${limit}`);\r\n\r\n      const payload = {\r\n        posts: res.data.posts,\r\n        amount: res.data.amount,\r\n        postsPerPage,\r\n        presentPage: page,\r\n      };\r\n\r\n      dispatch(loadPostsByPage(payload));\r\n      dispatch(endRequest());\r\n\r\n    } catch(e) {\r\n      dispatch(errorRequest(e.message));\r\n    }\r\n\r\n  };\r\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './PageContainer.scss';\n\nconst PageContainer = ({ children }) => (\n  <div className=\"container-fluid\">\n    {children}\n  </div>\n);\n\nPageContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default PageContainer;\n","import React from 'react'\r\n\r\nimport './Logo.scss';\r\n\r\nconst Logo = ({ links, location }) => (\r\n  <h1 className=\"logo\">Blog.app</h1>\r\n);\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './MainMenu.scss';\r\n\r\nconst MainMenu = ({ links, location }) => (\r\n  <ul className=\"main-menu\">\r\n    { links.map((link, index) =>\r\n      <li key={index}>\r\n        <Link className={(location.pathname === link.path && 'active') || ''} to={link.path}>{link.title}</Link>\r\n      </li>\r\n    )}\r\n  </ul>\r\n);\r\n\r\nMainMenu.propTypes = {\r\n  links: PropTypes.arrayOf(PropTypes.shape({\r\n    path: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n  })),\r\n};\r\n\r\nexport default withRouter(props => <MainMenu {...props}/>);\r\n","import React from 'react';\r\nimport Logo from '../../common/Logo/Logo';\r\nimport MainMenu from '../../layout/MainMenu/MainMenu';\r\nimport './NavBar.scss';\r\n\r\nclass NavBar extends React.Component {\r\n\tstate = {\r\n\t\tlinks: [\r\n\t\t\t{ path: '/', title: 'Home' },\r\n\t\t\t{ path: '/posts/new', title: 'Add post' },\r\n\t\t\t{ path: '/posts', title: 'Posts' },\r\n\t\t\t{ path: '/contact', title: 'Contact' },\r\n\t\t],\r\n\t}\r\n\trender() {\r\n\t\tconst { links } = this.state;\r\n\t\treturn (\r\n\t\t\t<nav className=\"navbar\">\r\n\t\t\t\t<Logo />\r\n\t\t\t\t<MainMenu links={links} />\r\n\t\t\t</nav>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport PageContainer from '../PageContainer/PageContainer';\r\nimport NavBar from '../../features/NavBar/NavBar';\r\n\r\nconst MainLayout = ({ children }) => (\r\n\t<div>\r\n\t\t<PageContainer>\r\n\t\t\t<NavBar />\r\n\t\t\t{children}\r\n\t\t</PageContainer>\r\n\t</div>\r\n);\r\n\r\nexport default MainLayout;","import React, { Suspense, lazy } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n//import { IndexRoute } from 'react-router';\r\n\r\nimport MainLayout from './components/layout/MainLayout/MainLayout';\r\n//routes\r\nconst Home = lazy(() => import('./components/pages/Home/HomePage'));\r\nconst Posts = lazy(() => import('./components/pages/Posts/PostsPage'));\r\nconst Contact = lazy(() => import('./components/pages/Contact/ContactPage'));\r\nconst NotFound = lazy(() => import('./components/pages/NotFound/NotFoundPage'));\r\nconst SinglePost = lazy(() => import('./components/pages/SinglePost/SinglePost'));\r\nconst NewPost = lazy(() => import('./components/pages/NewPost/NewPost'));\r\n\r\nclass App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <MainLayout>\r\n        <Suspense fallback={<div>Wczytywanie...</div>}>\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/posts\" exact component={Posts}/>\r\n            <Route path='/posts/new' exact component={NewPost}/>\r\n            <Route path='/posts/:id' exact component={SinglePost}/>\r\n            <Route path=\"/contact\" exact component={Contact} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </Suspense>\r\n      </MainLayout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\n// import reducers\r\nimport posts from './postsRedux';\r\nimport postCounter from './postsRedux';//30.6\r\n\r\n// combine reducers\r\nconst rootReducer = combineReducers({\r\n  posts,\r\n  postCounter,\r\n});\r\n\r\n// create store\r\nconst store = createStore(\r\n\trootReducer, \r\n\tcompose(\r\n\t\tapplyMiddleware(thunk),\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n\t)\r\n);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './styles/global.scss';\r\nimport 'animate.css/animate.min.css';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nconst Root = () => (\r\n\t<Provider store={store}>\r\n\t\t<Router>\r\n\t\t\t<App />\r\n\t\t</Router>\r\n\t</Provider>\r\n)\r\n\r\nReactDOM.render(<Root />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}